services:
  - type: web
    name: feedback-sys
    env: docker
    plan: free
    dockerfilePath: ./Dockerfile
    dockerContext: .
    envVars:
      - key: PORT
        value: 8080
      - key: MONGODB_URI
        value: mongodb+srv://joan_test:Redwater710@cluster0.kniyd8u.mongodb.net/feedback_sys?retryWrites=true&w=majority
      - key: SESSION_SECRET
        generateValue: true
      - key: LLM_API_KEY
        sync: false  # Set this in Render dashboard
      - key: LLM_API_URL
        value: https://api.openai.com/v1
      - key: LLM_MODEL
        value: gpt-4
      - key: ENABLE_TRACING
        value: false
      - key: JAEGER_ENDPOINT
        value: http://localhost:14268/api/traces
      - key: TEMPLATE_DIR
        value: /root/templates
      - key: STATIC_DIR
        value: /root/static

databases:
  - name: feedback-sys-db
    plan: free
    databaseName: feedback_sys
    user: feedback_user

